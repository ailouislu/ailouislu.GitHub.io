(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{119:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/9780008499723.577484ae.jpg"},120:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/9780473470807.6822da52.jpg"},121:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/9781509840182.d8ffda07.jpg"},122:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/9781760785024.f8b25e0e.jpg"},123:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/9781988547732.8c3fc285.jpg"},128:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(30),s=r.n(c),o=r(27),i=(r(87),r(2)),l=r(11),u=r(12),j=r(14),h=r(13),d=r(9),b=r(41),p=(r(88),r(89),r(46)),f=r(7),O=r.n(f),x=r(16),m=r(33),v=r.n(m),g=r(18),A=r(64),y=r(1),w=function(e){var t=e.items,r=e.textProperty,n=e.valueProperty,a=e.selectedItem,c=e.onItemSelect;return Object(y.jsx)(A.a,{children:t.map((function(e){return Object(y.jsx)(A.a.Item,{onClick:function(){return c(e)},className:e===a?"active":"",children:e[r]},e[n])}))})};w.defaultProps={textProperty:"name",valueProperty:"id"};var k=w,F=function(e){var t=e.itemsCount,r=e.pageSize,n=e.currentPage,a=e.onPageChange,c=Math.ceil(t/r);if(1===c)return null;var s=v.a.range(1,c+1);return Object(y.jsx)("nav",{children:Object(y.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(y.jsx)("li",{className:e===n?"page-item active":"page-item",children:Object(y.jsx)("a",{className:"page-link",href:"# ",onClick:function(){return a(e)},children:e})},e)}))})})},R=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).raiseSort=function(t){var r=Object(i.a)({},e.props.sortColumn);r.path===t?r.order="asc"===r.order?"desc":"asc":(r.path=t,r.order="asc"),e.props.onSort(r)},e.renderSortIcon=function(t){var r=e.props.sortColumn;return t.path!==r.path?null:"asc"===r.order?Object(y.jsx)("i",{className:"fa fa-sort-asc"}):Object(y.jsx)("i",{className:"fa fa-sort-desc"})},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:this.props.columns.map((function(t){return Object(y.jsxs)("th",{className:"clickable",onClick:function(){return e.raiseSort(t.path)},children:[t.label," ",e.renderSortIcon(t)]},t.path||t.key)}))})})}}]),r}(n.Component),U=R,P=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderCell=function(e,t){return t.content?t.content(e):v.a.get(e,t.path)},e.createKey=function(e,t){return e.id+(t.path||t.key)},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.columns;return Object(y.jsx)("tbody",{children:r.map((function(t){return Object(y.jsx)("tr",{children:n.map((function(r){return Object(y.jsx)("td",{children:e.renderCell(t,r)},e.createKey(t,r))}))},t.id)}))})}}]),r}(n.Component),C=P,I=function(e){var t=e.columns,r=e.sortColumn,n=e.onSort,a=e.data;return Object(y.jsxs)("table",{className:"table table-hover",children:[Object(y.jsx)(U,{columns:t,sortColumn:r,onSort:n}),Object(y.jsx)(C,{columns:t,data:a})]})},N=r(76),S=r(36),X=r.n(S);var B={init:function(){},log:function(e){console.error(e)}};X.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(B.log(e),b.b.error("An unexpected error occurrred.")),Promise.reject(e)}));var D={get:X.a.get,post:X.a.post,put:X.a.put,delete:X.a.delete,setJwt:function(e){X.a.defaults.headers.common["x-auth-token"]=e}},H=r(29),K=H.a+"/auth",Q="token";function T(){return(T=Object(x.a)(O.a.mark((function e(t,r){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post(K,{email:t,password:r});case 2:n=e.sent,a=n.data,localStorage.setItem(Q,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return localStorage.getItem(Q)}D.setJwt(W());var z={login:function(e,t){return T.apply(this,arguments)},loginWithJwt:function(e){localStorage.setItem(Q,e)},logout:function(){localStorage.removeItem(Q)},getCurrentUser:function(){try{var e=localStorage.getItem(Q);return Object(N.a)(e)}catch(t){return null}},getJwt:W},E=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r),(e=t.call(this)).columns=[{path:"fullName",label:"Full Name",content:function(e){return Object(y.jsx)(o.b,{to:"/authors/".concat(e.id),children:e.fullName})}},{path:"type",label:"Genres"},{path:"books",label:"Books"},{path:"yearsActive",label:"Years Active"}],e.deleteColumn={key:"delete",content:function(t){return Object(y.jsx)("button",{onClick:function(){return e.props.onDelete(t)},className:"btn btn-danger btn-sm",children:"Delete"})}};var n=z.getCurrentUser();return n&&n.isAdmin&&e.columns.push(e.deleteColumn),e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props,t=e.authors,r=e.onSort,n=e.sortColumn;return Object(y.jsx)(I,{columns:this.columns,data:t,sortColumn:n,onSort:r})}}]),r}(n.Component),L=function(e){var t=e.value,r=e.onChange;return Object(y.jsx)("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:t,onChange:function(e){return r(e.currentTarget.value)}})},J=H.a+"/authors";function G(e){return"".concat(J,"/").concat(e)}function V(e){return D.delete(G(e))}function M(){return D.get(H.a+"/genres")}function q(e,t,r){var n=(t-1)*r;return v()(e).slice(n).take(r).value()}var Z=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={authors:[],genres:"",currentPage:1,pageSize:4,searchQuery:"",selectedGenre:null,sortColumn:{path:"title",order:"asc"}},e.handleDelete=function(){var t=Object(x.a)(O.a.mark((function t(r){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.authors,a=n.filter((function(e){return e.id!==r.id})),e.setState({authors:a}),t.prev=3,t.next=6,V(r.id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),t.t0.response&&404===t.t0.response.status&&b.b.error("This author has already been deleted."),e.setState({authors:n});case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLike=function(t){var r=Object(p.a)(e.state.authors),n=r.indexOf(t);r[n]=Object(i.a)({},r[n]),r[n].liked=!r[n].liked,e.setState({authors:r})},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleGenreSelect=function(t){e.setState({selectedGenre:t,searchQuery:"",currentPage:1})},e.handleSearch=function(t){e.setState({searchQuery:t,selectedGenre:null,currentPage:1})},e.handleSort=function(t){e.setState({sortColumn:t})},e.getPagedData=function(){var t=e.state,r=t.pageSize,n=t.currentPage,a=t.sortColumn,c=t.selectedGenre,s=t.searchQuery,o=t.authors,i=o;s?i=o.filter((function(e){return e.fullName.toLowerCase().startsWith(s.toLowerCase())})):c&&"All Genres"!==c.name&&(i=o.filter((function(e){return e.type===c.name})));var l=q(v.a.orderBy(i,[a.path],[a.order]),n,r);return{totalCount:i.length,data:l}},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,r,n,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M().then((function(e){return e.data}));case 2:return t=e.sent,r=t.data,n=[{id:"",name:"All Genres"}].concat(Object(p.a)(r)),e.next=7,D.get(J).then((function(e){return e.data}));case 7:a=e.sent,c=a.data,this.setState({authors:c,genres:n});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.authors.length,t=this.state,r=t.pageSize,n=t.currentPage,a=t.sortColumn,c=t.searchQuery,s=this.props.user;if(0===e)return Object(y.jsx)("p",{children:"There are no authors in the database."});var i=this.getPagedData(),l=i.totalCount,u=i.data;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Authors"})}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-sm-4",children:Object(y.jsx)(k,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})}),Object(y.jsxs)("div",{className:"col-sm-8",children:[s&&Object(y.jsx)(o.b,{to:"/authors/new",className:"btn btn-primary",children:"New Author"}),Object(y.jsxs)("p",{children:["Showing ",l," authors in the database."]}),Object(y.jsx)(L,{value:c,onChange:this.handleSearch}),Object(y.jsx)(E,{authors:u,sortColumn:a,onLike:this.handleLike,onDelete:this.handleDelete,onSort:this.handleSort}),Object(y.jsx)(F,{itemsCount:l,pageSize:r,currentPage:n,onPageChange:this.handlePageChange})]})]})]})}}]),r}(n.Component),Y=Z,$=r(8),_=r(45),ee=r(24),te=r(10),re=r(43),ne=H.a+"/books";function ae(e){return"".concat(ne,"/").concat(e)}var ce=function(e){var t=Object(n.useState)([]),c=Object($.a)(t,2),s=c[0],i=c[1],l=Object(n.useState)([]),u=Object($.a)(l,2),j=u[0],h=u[1],d=Object(n.useState)([]),b=Object($.a)(d,2),f=b[0],m=b[1],v=Object(n.useState)([]),A=Object($.a)(v,2),w=A[0],F=A[1],R=Object(n.useState)([]),U=Object($.a)(R,2),P=U[0],C=U[1],I=function(){var e=Object(x.a)(O.a.mark((function e(){var t,r,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get(ne);case 2:return t=e.sent,i(t.data.data),h(t.data.data),e.next=7,M();case 7:r=e.sent,n=[{id:"",name:"All Genres"}].concat(Object(p.a)(r.data.data)),m(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){I()}),[]);var N=function(){var e=Object(x.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(t),r=j,"All Genres"!==t.name&&(r=r.filter((function(e){return e.type===t.name}))),i(r),C("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=j,P&&(r=r.filter((function(e){return e.title.toLowerCase().startsWith(t.toLowerCase())}))),i(r),C(t),F(null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=s.length;return 0===X?Object(y.jsx)("p",{children:"There are no books in the database."}):Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Books"})}),Object(y.jsx)(_.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{sm:3,children:Object(y.jsx)(k,{items:f,selectedItem:w,onItemSelect:N})}),Object(y.jsx)(te.a,{sm:9,children:Object(y.jsxs)(_.a,{children:[Object(y.jsxs)("p",{children:["Showing ",X," books in the database."]}),Object(y.jsx)(L,{value:P,onChange:S}),Object(y.jsx)(ee.a,{xs:1,md:2,className:"g-4",children:s.map((function(e,t){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(te.a,{children:Object(y.jsx)(o.b,{to:"/books/".concat(e.id),children:Object(y.jsxs)(re.a,{style:{width:"18rem"},children:[Object(y.jsx)(re.a.Img,{variant:"top",src:r(73)("./".concat(e.isbn,".jpg")).default}),Object(y.jsxs)(re.a.Body,{children:[Object(y.jsx)(re.a.Title,{children:e.title}),Object(y.jsx)(re.a.Text,{children:e.subtitle}),"Author: ",e.author]}),"Price: ",e.price]})})})},t)}))})]})})]})})]})},se=r(32),oe=r(80),ie=r(81),le=r(52),ue=r(53);var je=function(e){var t=Object(n.useState)([]),a=Object($.a)(t,2),c=a[0],s=a[1],o=function(){var t=Object(x.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=e.match.params.id,D.get(ae(n));case 3:r=t.sent,s(r.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&404===t.t0.response.status&&e.history.replace("/not-found");case 10:case"end":return t.stop()}var n}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){o()}),[]);var i=r(74).default;c.isbn&&(i=r(73)("./".concat(c.isbn,".jpg")).default);var l=function(e){var t=e.color;return Object(y.jsx)("hr",{style:{color:t,backgroundColor:t,height:1}})},u=function(){e.history.push("/books")};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(g.a,{children:[Object(y.jsx)(g.a.Item,{onClick:u,children:"Books"}),Object(y.jsx)(g.a.Item,{active:!0,children:c.title})]}),Object(y.jsxs)(ee.a,{children:[Object(y.jsxs)(te.a,{sm:5,children:[Object(y.jsx)(oe.a,{src:i}),Object(y.jsx)("p",{}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{md:{span:3,offset:3},children:Object(y.jsxs)("p",{children:[Object(y.jsx)(le.a,{variant:"primary",onClick:u,children:"Back"}),""]})})})]}),Object(y.jsxs)(te.a,{sm:7,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:c.title}),Object(y.jsx)("p",{}),Object(y.jsx)("h5",{children:c.subtitle}),Object(y.jsxs)("h5",{children:[Object(y.jsx)(l,{color:"black"}),Object(y.jsxs)(ee.a,{children:[Object(y.jsxs)(te.a,{sm:6,children:["By ",Object(y.jsx)("label",{style:{color:"green"},children:c.author})]}),Object(y.jsx)(te.a,{sm:6,align:"right",children:Object(y.jsx)("label",{style:{color:"red"},children:"Best Seller"})})]})]}),Object(y.jsx)(l,{color:"black"}),Object(y.jsxs)("h5",{children:[Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{sm:6,children:Object(y.jsx)(ue.a,{pill:!0,bg:"primary",children:c.type})}),Object(y.jsx)(te.a,{sm:6,align:"right",children:c.format})]}),Object(y.jsx)("p",{})]}),Object(y.jsx)(l,{color:"black"}),Object(y.jsxs)("h6",{children:["Publisher RRP $",c.publisherRRP]}),Object(y.jsxs)("h2",{children:[Object(y.jsxs)("p",{style:{color:"red"},children:["Our price  $",c.price]}),Object(y.jsx)("p",{})]}),Object(y.jsx)(se.a,{defaultActiveKey:"0",children:Object(y.jsxs)(se.a.Item,{eventKey:"0",children:[Object(y.jsx)(se.a.Header,{children:"Description"}),Object(y.jsx)(se.a.Body,{children:c.description})]})})]}),Object(y.jsx)("p",{}),Object(y.jsx)(ie.a,{striped:!0,borderless:!0,hover:!0,children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"ISBN"}),Object(y.jsx)("td",{children:c.isbn})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"No. Of Pages"}),Object(y.jsx)("td",{children:c.pages})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"Dimensions"}),Object(y.jsx)("td",{children:c.dimensions})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"On Sale Date"}),Object(y.jsx)("td",{children:c.releaseDate})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"Publisher"}),Object(y.jsx)("td",{children:c.publisher})]})]})})]})]}),Object(y.jsx)("p",{}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{})})]})};var he=function(e){var t=Object(n.useState)([]),r=Object($.a)(t,2),a=r[0],c=r[1],s=function(){var t=Object(x.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=e.match.params.id,D.get(G(n));case 3:r=t.sent,c(r.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&404===t.t0.response.status&&e.history.replace("/not-found");case 10:case"end":return t.stop()}var n}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var o=function(e){var t=e.color;return Object(y.jsx)("hr",{style:{color:t,backgroundColor:t,height:1}})},i=function(){e.history.push("/authors")};return Object(y.jsxs)("div",{children:[Object(y.jsxs)(g.a,{children:[Object(y.jsx)(g.a.Item,{onClick:i,children:"Authors"}),Object(y.jsx)(g.a.Item,{active:!0,children:a.fullName})]}),Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{sm:3}),Object(y.jsxs)(te.a,{sm:9,children:[Object(y.jsx)("h1",{children:a.fullName}),Object(y.jsx)("p",{}),Object(y.jsxs)("h5",{children:[Object(y.jsx)(o,{color:"black"}),"Born: \xa0",Object(y.jsx)("label",{style:{color:"green"},children:a.born})]}),Object(y.jsx)(o,{color:"black"}),Object(y.jsxs)("h5",{children:[Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{sm:6,children:Object(y.jsx)(ue.a,{pill:!0,bg:"primary",children:a.type})}),Object(y.jsxs)(te.a,{sm:6,align:"right",children:["Years Active: ",a.yearsActive]})]}),Object(y.jsx)(o,{color:"black"}),Object(y.jsx)("p",{}),"Books: ",a.books]}),Object(y.jsx)("p",{}),Object(y.jsx)(se.a,{defaultActiveKey:"0",children:Object(y.jsxs)(se.a.Item,{eventKey:"0",children:[Object(y.jsx)(se.a.Header,{children:"Description"}),Object(y.jsx)(se.a.Body,{children:a.description})]})}),Object(y.jsx)("p",{}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{md:{span:3,offset:4},children:Object(y.jsxs)("p",{children:[Object(y.jsx)(le.a,{variant:"primary",onClick:i,children:"Back"}),""]})})})]})]})]})},de=function(){return Object(y.jsx)("h1",{children:"Rentals"})},be=function(){return Object(y.jsx)("h1",{children:"Not Found"})},pe=r(63),fe=r(47),Oe=function(){return Object(y.jsx)(pe.a,{sticky:"top",bg:"light",variant:"light",children:Object(y.jsxs)(_.a,{children:[Object(y.jsx)(pe.a.Brand,{onClick:function(){window.open("about:blank").location.href="http://nzlouis.com"},children:Object(y.jsx)("img",{alt:"NZLouis.com",src:r(75).default,width:"100",height:"30",className:"d-inline-block align-top"})}),Object(y.jsxs)(fe.a,{className:"me-auto",children:[Object(y.jsx)(fe.a.Link,{href:"/books",children:"Books"}),Object(y.jsx)(fe.a.Link,{href:"/authors",children:"Authors"}),Object(y.jsx)(fe.a.Link,{href:"/rentals",children:"Rentals"})]})]})})},xe=r(31),me=r.n(xe),ve=r(15),ge=r(82),Ae=r(3),ye=["name","label","error"],we=function(e){var t=e.name,r=e.label,n=e.error,a=Object(Ae.a)(e,ye);return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:t,children:r}),Object(y.jsx)("input",Object(i.a)(Object(i.a)({},a),{},{name:t,id:t,className:"form-control"})),n&&Object(y.jsx)("div",{className:"alert alert-danger",children:n})]})},ke=["name","label","options","error"],Fe=function(e){var t=e.name,r=e.label,n=e.options,a=e.error,c=Object(Ae.a)(e,ke);return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:t,children:r}),Object(y.jsxs)("select",Object(i.a)(Object(i.a)({name:t,id:t},c),{},{className:"form-control",children:[Object(y.jsx)("option",{value:""}),n.map((function(e){return Object(y.jsx)("option",{value:e.name,children:e.name},e.id)}))]})),a&&Object(y.jsx)("div",{className:"alert alert-danger",children:a})]})},Re=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{},errors:{}},e.validate=function(){var t=me.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var r,n={},a=Object(ge.a)(t.details);try{for(a.s();!(r=a.n()).done;){var c=r.value;n[c.path[0]]=c.message}}catch(s){a.e(s)}finally{a.f()}return n},e.validateProperty=function(t){var r=t.name,n=t.value,a=Object(ve.a)({},r,n),c=Object(ve.a)({},r,e.schema[r]),s=me.a.validate(a,c).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var r=e.validate();e.setState({errors:r||{}}),r||e.doSubmit()},e.handleChange=function(t){var r=t.currentTarget,n=Object(i.a)({},e.state.errors),a=e.validateProperty(r);a?n[r.name]=a:delete n[r.name];var c=Object(i.a)({},e.state.data);c[r.name]=r.value,e.setState({data:c,errors:n})},e}return Object(u.a)(r,[{key:"renderButton",value:function(e){return Object(y.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,r){var n=this.state,a=n.data,c=n.errors;return Object(y.jsx)(Fe,{name:e,value:a[e],label:t,options:r,onChange:this.handleChange,error:c[e]})}},{key:"renderInput",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,a=n.data,c=n.errors;return Object(y.jsx)(we,{type:r,name:e,value:a[e],label:t,onChange:this.handleChange,error:c[e]})}}]),r}(n.Component),Ue=Re,Pe=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{username:"",password:""},errors:{}},e.schema={username:me.a.string().required().label("Username"),password:me.a.string().required().label("Password")},e.doSubmit=Object(x.a)(O.a.mark((function t(){var r,n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.state.data,t.next=4,z.login(r.username,r.password);case 4:n=e.props.location.state,window.location=n?n.from.pathname:"/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((a=Object(i.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:a}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(u.a)(r,[{key:"render",value:function(){return z.getCurrentUser()?Object(y.jsx)(d.a,{to:"/"}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Login"}),Object(y.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Login")]})]})}}]),r}(Ue),Ce=Pe,Ie=H.a+"/users";function Ne(e){return D.post(Ie,{email:e.username,password:e.password,name:e.name})}var Se=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{username:"",password:"",name:""},errors:{}},e.schema={username:me.a.string().required().email().label("Username"),password:me.a.string().required().min(5).label("Password"),name:me.a.string().required().label("Name")},e.doSubmit=Object(x.a)(O.a.mark((function t(){var r,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(e.state.data);case 3:r=t.sent,z.loginWithJwt(r.headers["x-auth-token"]),window.location="/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((n=Object(i.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:n}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(u.a)(r,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Register"}),Object(y.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")]})]})}}]),r}(Ue),Xe=Se,Be=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){z.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),r}(n.Component),De=Be,He=function(e){Object(j.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(u.a)(r,[{key:"render",value:function(){return Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(b.a,{}),Object(y.jsx)(Oe,{}),Object(y.jsx)("main",{className:"container",children:Object(y.jsxs)(d.d,{children:[Object(y.jsx)(d.b,{path:"/register",component:Xe}),Object(y.jsx)(d.b,{path:"/login",component:Ce}),Object(y.jsx)(d.b,{path:"/logout",component:De}),Object(y.jsx)(d.b,{path:"/books/:id",component:je}),Object(y.jsx)(d.b,{path:"/authors/:id",component:he}),Object(y.jsx)(d.b,{path:"/books",render:function(e){return Object(y.jsx)(ce,Object(i.a)({},e))}}),Object(y.jsx)(d.b,{path:"/authors",render:function(e){return Object(y.jsx)(Y,Object(i.a)({},e))}}),Object(y.jsx)(d.b,{path:"/rentals",component:de}),Object(y.jsx)(d.b,{path:"/not-found",component:be}),Object(y.jsx)(d.a,{from:"/",exact:!0,to:"/books"}),Object(y.jsx)(d.a,{to:"/not-found"})]})})]})}}]),r}(n.Component),Ke=He,Qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r(126),r(127);s.a.render(Object(y.jsx)(o.a,{children:Object(y.jsx)(Ke,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Qe?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Te(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Te(e)}))}}()},29:function(e){e.exports=JSON.parse('{"a":"http://nzlouis.com:8088/api"}')},73:function(e,t,r){var n={"./9780008499723.jpg":119,"./9780473470807.jpg":120,"./9781509840182.jpg":121,"./9781760785024.jpg":122,"./9781988547732.jpg":123,"./default.jpg":74,"./nzlouis.jpg":75};function a(e){var t=c(e);return r(t)}function c(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=c,e.exports=a,a.id=73},74:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/default.c31079c6.jpg"},75:function(e,t,r){"use strict";r.r(t),t.default="data:image/jpeg;base64,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"},87:function(e,t,r){},89:function(e,t,r){}},[[128,1,2]]]);
//# sourceMappingURL=main.b75bcd1e.chunk.js.map