(this["webpackJsonpbooks-react-bootstrap"]=this["webpackJsonpbooks-react-bootstrap"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9780008499723.577484ae.jpg"},122:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9780473470807.6822da52.jpg"},123:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9781509840182.d8ffda07.jpg"},124:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9781760785024.f8b25e0e.jpg"},125:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9781988547732.8c3fc285.jpg"},130:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(30),s=n.n(c),o=n(27),i=(n(88),n(2)),l=n(13),j=n(14),u=n(16),d=n(15),h=n(10),b=n(42),p=(n(89),n(90),n(46)),f=n(6),O=n.n(f),x=n(11),m=n(34),v=n.n(m),g=n(9),A=n(64),y=n(0),w=function(e){var t=e.items,n=e.textProperty,r=e.valueProperty,a=e.selectedItem,c=e.onItemSelect;return Object(y.jsx)(A.a,{children:t.map((function(e){return Object(y.jsx)(A.a.Item,{onClick:function(){return c(e)},className:e===a?"active":"",children:e[n]},e[r])}))})};w.defaultProps={textProperty:"name",valueProperty:"id"};var k=w,F=function(e){var t=e.itemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChange,c=Math.ceil(t/n);if(1===c)return null;var s=v.a.range(1,c+1);return Object(y.jsx)("nav",{children:Object(y.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(y.jsx)("li",{className:e===r?"page-item active":"page-item",children:Object(y.jsx)("a",{className:"page-link",href:"# ",onClick:function(){return a(e)},children:e})},e)}))})})},R=n(76);var U=function(e){return Object(y.jsx)("div",{children:Object(y.jsx)(R.a,{style:{position:"absolute",top:"50%",left:"50%"},animation:"border",variant:"primary"})})},C=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).raiseSort=function(t){var n=Object(i.a)({},e.props.sortColumn);n.path===t?n.order="asc"===n.order?"desc":"asc":(n.path=t,n.order="asc"),e.props.onSort(n)},e.renderSortIcon=function(t){var n=e.props.sortColumn;return t.path!==n.path?null:"asc"===n.order?Object(y.jsx)("i",{className:"fa fa-sort-asc"}):Object(y.jsx)("i",{className:"fa fa-sort-desc"})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:this.props.columns.map((function(t){return Object(y.jsxs)("th",{className:"clickable",onClick:function(){return e.raiseSort(t.path)},children:[t.label," ",e.renderSortIcon(t)]},t.path||t.key)}))})})}}]),n}(r.Component),I=C,N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderCell=function(e,t){return t.content?t.content(e):v.a.get(e,t.path)},e.createKey=function(e,t){return e.id+(t.path||t.key)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.columns;return Object(y.jsx)("tbody",{children:n.map((function(t){return Object(y.jsx)("tr",{children:r.map((function(n){return Object(y.jsx)("td",{children:e.renderCell(t,n)},e.createKey(t,n))}))},t.id)}))})}}]),n}(r.Component),P=N,S=function(e){var t=e.columns,n=e.sortColumn,r=e.onSort,a=e.data;return Object(y.jsxs)("table",{className:"table table-hover",children:[Object(y.jsx)(I,{columns:t,sortColumn:n,onSort:r}),Object(y.jsx)(P,{columns:t,data:a})]})},B=n(77),X=n(33),D=n.n(X);var H={init:function(){},log:function(e){console.error(e)}};D.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(H.log(e),b.b.error("An unexpected error occurrred.")),Promise.reject(e)}));var K={get:D.a.get,post:D.a.post,put:D.a.put,delete:D.a.delete,setJwt:function(e){D.a.defaults.headers.common["x-auth-token"]=e}},Q=n(29),T=Q.a+"/auth",L="token";function W(){return(W=Object(x.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.post(T,{email:t,password:n});case 2:r=e.sent,a=r.data,localStorage.setItem(L,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return localStorage.getItem(L)}K.setJwt(z());var E={login:function(e,t){return W.apply(this,arguments)},loginWithJwt:function(e){localStorage.setItem(L,e)},logout:function(){localStorage.removeItem(L)},getCurrentUser:function(){try{var e=localStorage.getItem(L);return Object(B.a)(e)}catch(t){return null}},getJwt:z},J=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n),(e=t.call(this)).columns=[{path:"fullName",label:"Full Name",content:function(e){return Object(y.jsx)(o.b,{to:"/authors/".concat(e.id),children:e.fullName})}},{path:"type",label:"Genres"},{path:"books",label:"Books"},{path:"yearsActive",label:"Years Active"}],e.deleteColumn={key:"delete",content:function(t){return Object(y.jsx)("button",{onClick:function(){return e.props.onDelete(t)},className:"btn btn-danger btn-sm",children:"Delete"})}};var r=E.getCurrentUser();return r&&r.isAdmin&&e.columns.push(e.deleteColumn),e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authors,n=e.onSort,r=e.sortColumn;return Object(y.jsx)(S,{columns:this.columns,data:t,sortColumn:r,onSort:n})}}]),n}(r.Component),G=function(e){var t=e.value,n=e.onChange;return Object(y.jsx)("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:t,onChange:function(e){return n(e.currentTarget.value)}})},V=Q.a+"/authors";function M(e){return"".concat(V,"/").concat(e)}function q(e){return K.delete(M(e))}var Z=Q.a+"/genres";function Y(){return K.get(Z)}function $(e,t,n){var r=(t-1)*n;return v()(e).slice(r).take(n).value()}var _=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={authors:[],genres:"",currentPage:1,pageSize:4,searchQuery:"",selectedGenre:null,sortColumn:{path:"title",order:"asc"},isLoading:!0},e.handleDelete=function(){var t=Object(x.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.authors,a=r.filter((function(e){return e.id!==n.id})),e.setState({authors:a}),t.prev=3,t.next=6,q(n.id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),t.t0.response&&404===t.t0.response.status&&b.b.error("This author has already been deleted."),e.setState({authors:r});case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLike=function(t){var n=Object(p.a)(e.state.authors),r=n.indexOf(t);n[r]=Object(i.a)({},n[r]),n[r].liked=!n[r].liked,e.setState({authors:n})},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleGenreSelect=function(t){e.setState({selectedGenre:t,searchQuery:"",currentPage:1})},e.handleSearch=function(t){e.setState({searchQuery:t,selectedGenre:null,currentPage:1})},e.handleSort=function(t){e.setState({sortColumn:t})},e.getPagedData=function(){var t=e.state,n=t.pageSize,r=t.currentPage,a=t.sortColumn,c=t.selectedGenre,s=t.searchQuery,o=t.authors,i=o;s?i=o.filter((function(e){return e.fullName.toLowerCase().startsWith(s.toLowerCase())})):c&&"All Genres"!==c.name&&(i=o.filter((function(e){return e.type===c.name})));var l=$(v.a.orderBy(i,[a.path],[a.order]),r,n);return{totalCount:i.length,data:l}},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n,r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y().then((function(e){return e.data}));case 2:return t=e.sent,n=t.data,r=[{id:"",name:"All Genres"}].concat(Object(p.a)(n)),e.next=7,K.get(V).then((function(e){return e.data}));case 7:a=e.sent,c=a.data,this.setState({authors:c,genres:r,isLoading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoading)return Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Authors"})}),Object(y.jsx)(U,{})]});var e=this.state.authors.length,t=this.state,n=t.pageSize,r=t.currentPage,a=t.sortColumn,c=t.searchQuery,s=this.props.user;if(0===e)return Object(y.jsx)("p",{children:"There are no authors in the database."});var i=this.getPagedData(),l=i.totalCount,j=i.data;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Authors"})}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-sm-4",children:Object(y.jsx)(k,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})}),Object(y.jsxs)("div",{className:"col-sm-8",children:[s&&Object(y.jsx)(o.b,{to:"/authors/new",className:"btn btn-primary",children:"New Author"}),Object(y.jsxs)("p",{children:["Showing ",l," authors in the database."]}),Object(y.jsx)(G,{value:c,onChange:this.handleSearch}),Object(y.jsx)(J,{authors:j,sortColumn:a,onLike:this.handleLike,onDelete:this.handleDelete,onSort:this.handleSort}),Object(y.jsx)(F,{itemsCount:l,pageSize:n,currentPage:r,onPageChange:this.handlePageChange})]})]})]})}}]),n}(r.Component),ee=_,te=n(8),ne=n(37),re=n(24),ae=n(12),ce=n(44),se=Q.a+"/books";function oe(e){return"".concat(se,"/").concat(e)}function ie(){return le.apply(this,arguments)}function le(){return(le=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("Accept","application/json"),t.append("Access-Control-Allow-Origin","http://localhost:3000"),n=D.a.get(se,{params:{}}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(120);var je=function(e){var t=Object(r.useState)([]),c=Object(te.a)(t,2),s=c[0],i=c[1],l=Object(r.useState)([]),j=Object(te.a)(l,2),u=j[0],d=j[1],h=Object(r.useState)([]),b=Object(te.a)(h,2),f=b[0],m=b[1],v=Object(r.useState)([]),A=Object(te.a)(v,2),w=A[0],F=A[1],R=Object(r.useState)([]),C=Object(te.a)(R,2),I=C[0],N=C[1],P=Object(r.useState)([]),S=Object(te.a)(P,2),B=S[0],X=S[1],D=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return t=e.sent,console.log("books data:",t),i(t.data.data),d(t.data.data),e.next=8,Y();case 8:n=e.sent,r=[{id:"",name:"All Genres"}].concat(Object(p.a)(n.data.data)),m(r),X(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){X(!0),D()}),[]);var H=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(t),n=u,"All Genres"!==t.name&&(n=n.filter((function(e){return e.type===t.name}))),i(n),N("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u,I&&(n=n.filter((function(e){return e.title.toLowerCase().startsWith(t.toLowerCase())}))),i(n),N(t),F(null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(B)return Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Books"})}),Object(y.jsx)(U,{})]});var Q=s.length;return 0===Q?Object(y.jsx)("p",{children:"There are no books in the database."}):Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{active:!0,children:"Books"})}),Object(y.jsx)(ne.a,{children:Object(y.jsxs)(re.a,{children:[Object(y.jsx)(ae.a,{sm:3,children:Object(y.jsx)(k,{items:f,selectedItem:w,onItemSelect:H})}),Object(y.jsx)(ae.a,{sm:9,children:Object(y.jsxs)(ne.a,{fluid:!0,children:[Object(y.jsxs)("p",{children:["Showing ",Q," books in the database."]}),Object(y.jsx)(G,{value:I,onChange:K}),Object(y.jsx)(re.a,{xs:1,md:2,className:"g-4",children:s.map((function(e,t){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(ae.a,{children:Object(y.jsx)(o.b,{className:"link-list",to:"/books/".concat(e.id),children:Object(y.jsxs)(ce.a,{className:"card content",children:[Object(y.jsx)("div",{class:"content-overlay"}),Object(y.jsx)(ce.a.Img,{className:"card-img",variant:"top",fluid:!0,src:n(73)("./".concat(e.isbn,".jpg")).default}),Object(y.jsxs)("div",{class:"content-details fadeIn-left",children:[Object(y.jsx)("h3",{class:"content-title",children:e.title}),Object(y.jsx)("p",{class:"content-text",children:e.subtitle}),Object(y.jsxs)("p",{class:"content-text",children:["Author: ",e.author]}),Object(y.jsx)("p",{class:"content-text",children:e.description})]}),Object(y.jsxs)(ce.a.Body,{className:"card-text",children:[Object(y.jsx)(ce.a.Title,{className:"card-text",children:e.title}),Object(y.jsxs)(ce.a.Text,{className:"card-text",children:["Author: ",e.author]}),Object(y.jsxs)("h3",{className:"card-price",children:["Price: ",e.price]})]})]})})})},t)}))})]})})]})})]})},ue=n(32),de=n(81),he=n(82),be=n(52),pe=n(53);var fe=function(e){var t=Object(r.useState)([]),a=Object(te.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)([]),i=Object(te.a)(o,2),l=i[0],j=i[1],u=function(){var t=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e.match.params.id,K.get(oe(r));case 3:n=t.sent,s(n.data.data),j(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&404===t.t0.response.status&&e.history.replace("/not-found");case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){j(!0),u()}),[]);var d=n(74).default;c.isbn&&(d=n(73)("./".concat(c.isbn,".jpg")).default);var h=function(e){var t=e.color;return Object(y.jsx)("hr",{style:{color:t,backgroundColor:t,height:1}})},b=function(){e.history.push("/books")};return l?Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{onClick:b,children:"Books"})}),Object(y.jsx)(U,{})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)(g.a,{children:[Object(y.jsx)(g.a.Item,{onClick:b,children:"Books"}),Object(y.jsx)(g.a.Item,{active:!0,children:c.title})]}),Object(y.jsx)(ne.a,{children:Object(y.jsxs)(re.a,{children:[Object(y.jsxs)(ae.a,{sm:5,children:[Object(y.jsx)(de.a,{src:d,fluid:!0}),Object(y.jsx)("p",{}),Object(y.jsx)(re.a,{children:Object(y.jsx)(ae.a,{md:{span:3,offset:3},children:Object(y.jsxs)("p",{children:[Object(y.jsx)(be.a,{variant:"primary",onClick:b,children:"Back"}),""]})})})]}),Object(y.jsxs)(ae.a,{sm:7,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:c.title}),Object(y.jsx)("p",{}),Object(y.jsx)("h5",{children:c.subtitle}),Object(y.jsxs)("h5",{children:[Object(y.jsx)(h,{color:"black"}),Object(y.jsxs)(re.a,{children:[Object(y.jsxs)(ae.a,{sm:6,children:["By ",Object(y.jsx)("label",{style:{color:"green"},children:c.author})]}),Object(y.jsx)(ae.a,{sm:6,align:"right",children:Object(y.jsx)("label",{style:{color:"red"},children:"Best Seller"})})]})]}),Object(y.jsx)(h,{color:"black"}),Object(y.jsxs)("h5",{children:[Object(y.jsxs)(re.a,{children:[Object(y.jsx)(ae.a,{sm:6,children:Object(y.jsx)(pe.a,{pill:!0,bg:"primary",children:c.type})}),Object(y.jsx)(ae.a,{sm:6,align:"right",children:c.format})]}),Object(y.jsx)("p",{})]}),Object(y.jsx)(h,{color:"black"}),Object(y.jsxs)("h6",{children:["Publisher RRP $",c.publisherRRP]}),Object(y.jsxs)("h2",{children:[Object(y.jsxs)("p",{style:{color:"red"},children:["Our price  $",c.price]}),Object(y.jsx)("p",{})]}),Object(y.jsx)(ue.a,{defaultActiveKey:"0",children:Object(y.jsxs)(ue.a.Item,{eventKey:"0",children:[Object(y.jsx)(ue.a.Header,{children:"Description"}),Object(y.jsx)(ue.a.Body,{children:c.description})]})})]}),Object(y.jsx)("p",{}),Object(y.jsx)(he.a,{striped:!0,borderless:!0,hover:!0,children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"ISBN"}),Object(y.jsx)("td",{children:c.isbn})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"No. Of Pages"}),Object(y.jsx)("td",{children:c.pages})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"Dimensions"}),Object(y.jsx)("td",{children:c.dimensions})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"On Sale Date"}),Object(y.jsx)("td",{children:c.releaseDate})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold"},children:"Publisher"}),Object(y.jsx)("td",{children:c.publisher})]})]})})]})]})}),Object(y.jsx)("p",{}),Object(y.jsx)(re.a,{children:Object(y.jsx)(ae.a,{})})]})};var Oe=function(e){var t=Object(r.useState)([]),n=Object(te.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(te.a)(s,2),i=o[0],l=o[1],j=function(){var t=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e.match.params.id,K.get(M(r));case 3:n=t.sent,c(n.data.data),l(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&404===t.t0.response.status&&e.history.replace("/not-found");case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){l(!0),j()}),[]);var u=function(e){var t=e.color;return Object(y.jsx)("hr",{style:{color:t,backgroundColor:t,height:1}})},d=function(){e.history.push("/authors")};return i?Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{children:Object(y.jsx)(g.a.Item,{onClick:d,children:"Books"})}),Object(y.jsx)(U,{})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)(g.a,{children:[Object(y.jsx)(g.a.Item,{onClick:d,children:"Authors"}),Object(y.jsx)(g.a.Item,{active:!0,children:a.fullName})]}),Object(y.jsxs)(re.a,{children:[Object(y.jsx)(ae.a,{sm:3}),Object(y.jsxs)(ae.a,{sm:9,children:[Object(y.jsx)("h1",{children:a.fullName}),Object(y.jsx)("p",{}),Object(y.jsxs)("h5",{children:[Object(y.jsx)(u,{color:"black"}),"Born: \xa0",Object(y.jsx)("label",{style:{color:"green"},children:a.born})]}),Object(y.jsx)(u,{color:"black"}),Object(y.jsxs)("h5",{children:[Object(y.jsxs)(re.a,{children:[Object(y.jsx)(ae.a,{sm:6,children:Object(y.jsx)(pe.a,{pill:!0,bg:"primary",children:a.type})}),Object(y.jsxs)(ae.a,{sm:6,align:"right",children:["Years Active: ",a.yearsActive]})]}),Object(y.jsx)(u,{color:"black"}),Object(y.jsx)("p",{}),"Books: ",a.books]}),Object(y.jsx)("p",{}),Object(y.jsx)(ue.a,{defaultActiveKey:"0",children:Object(y.jsxs)(ue.a.Item,{eventKey:"0",children:[Object(y.jsx)(ue.a.Header,{children:"Description"}),Object(y.jsx)(ue.a.Body,{children:a.description})]})}),Object(y.jsx)("p",{}),Object(y.jsx)(re.a,{children:Object(y.jsx)(ae.a,{md:{span:3,offset:4},children:Object(y.jsxs)("p",{children:[Object(y.jsx)(be.a,{variant:"primary",onClick:d,children:"Back"}),""]})})})]})]})]})},xe=function(){return Object(y.jsx)("h1",{children:"Rentals"})},me=function(){return Object(y.jsx)("h1",{children:"Not Found"})},ve=n(63),ge=n(47),Ae=function(){return Object(y.jsx)(ve.a,{sticky:"top",bg:"light",variant:"light",children:Object(y.jsxs)(ne.a,{children:[Object(y.jsx)(ve.a.Brand,{onClick:function(){window.open("about:blank").location.href="https://nzlouis.com"},children:Object(y.jsx)("img",{alt:"NZLouis.com",src:n(75).default,width:"100",height:"30",className:"d-inline-block align-top"})}),Object(y.jsxs)(ge.a,{className:"me-auto",children:[Object(y.jsx)(ge.a.Link,{href:"/books",children:"Books"}),Object(y.jsx)(ge.a.Link,{href:"/authors",children:"Authors"}),Object(y.jsx)(ge.a.Link,{href:"/rentals",children:"Rentals"})]})]})})},ye=n(31),we=n.n(ye),ke=n(17),Fe=n(83),Re=n(3),Ue=["name","label","error"],Ce=function(e){var t=e.name,n=e.label,r=e.error,a=Object(Re.a)(e,Ue);return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:t,children:n}),Object(y.jsx)("input",Object(i.a)(Object(i.a)({},a),{},{name:t,id:t,className:"form-control"})),r&&Object(y.jsx)("div",{className:"alert alert-danger",children:r})]})},Ie=["name","label","options","error"],Ne=function(e){var t=e.name,n=e.label,r=e.options,a=e.error,c=Object(Re.a)(e,Ie);return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:t,children:n}),Object(y.jsxs)("select",Object(i.a)(Object(i.a)({name:t,id:t},c),{},{className:"form-control",children:[Object(y.jsx)("option",{value:""}),r.map((function(e){return Object(y.jsx)("option",{value:e.name,children:e.name},e.id)}))]})),a&&Object(y.jsx)("div",{className:"alert alert-danger",children:a})]})},Pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{},errors:{}},e.validate=function(){var t=we.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var n,r={},a=Object(Fe.a)(t.details);try{for(a.s();!(n=a.n()).done;){var c=n.value;r[c.path[0]]=c.message}}catch(s){a.e(s)}finally{a.f()}return r},e.validateProperty=function(t){var n=t.name,r=t.value,a=Object(ke.a)({},n,r),c=Object(ke.a)({},n,e.schema[n]),s=we.a.validate(a,c).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var n=e.validate();e.setState({errors:n||{}}),n||e.doSubmit()},e.handleChange=function(t){var n=t.currentTarget,r=Object(i.a)({},e.state.errors),a=e.validateProperty(n);a?r[n.name]=a:delete r[n.name];var c=Object(i.a)({},e.state.data);c[n.name]=n.value,e.setState({data:c,errors:r})},e}return Object(j.a)(n,[{key:"renderButton",value:function(e){return Object(y.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,n){var r=this.state,a=r.data,c=r.errors;return Object(y.jsx)(Ne,{name:e,value:a[e],label:t,options:n,onChange:this.handleChange,error:c[e]})}},{key:"renderInput",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,a=r.data,c=r.errors;return Object(y.jsx)(Ce,{type:n,name:e,value:a[e],label:t,onChange:this.handleChange,error:c[e]})}}]),n}(r.Component),Se=Pe,Be=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{username:"",password:""},errors:{}},e.schema={username:we.a.string().required().label("Username"),password:we.a.string().required().label("Password")},e.doSubmit=Object(x.a)(O.a.mark((function t(){var n,r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.data,t.next=4,E.login(n.username,n.password);case 4:r=e.props.location.state,window.location=r?r.from.pathname:"/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((a=Object(i.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:a}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(j.a)(n,[{key:"render",value:function(){return E.getCurrentUser()?Object(y.jsx)(h.a,{to:"/"}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Login"}),Object(y.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Login")]})]})}}]),n}(Se),Xe=Be,De=Q.a+"/users";function He(e){return K.post(De,{email:e.username,password:e.password,name:e.name})}var Ke=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{username:"",password:"",name:""},errors:{}},e.schema={username:we.a.string().required().email().label("Username"),password:we.a.string().required().min(5).label("Password"),name:we.a.string().required().label("Name")},e.doSubmit=Object(x.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,He(e.state.data);case 3:n=t.sent,E.loginWithJwt(n.headers["x-auth-token"]),window.location="/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((r=Object(i.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:r}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(j.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Register"}),Object(y.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")]})]})}}]),n}(Se),Qe=Ke,Te=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){E.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),n}(r.Component),Le=Te,We=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(b.a,{}),Object(y.jsx)(Ae,{}),Object(y.jsx)("main",{className:"container",children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/register",component:Qe}),Object(y.jsx)(h.b,{path:"/login",component:Xe}),Object(y.jsx)(h.b,{path:"/logout",component:Le}),Object(y.jsx)(h.b,{path:"/books/:id",component:fe}),Object(y.jsx)(h.b,{path:"/authors/:id",component:Oe}),Object(y.jsx)(h.b,{path:"/books",render:function(e){return Object(y.jsx)(je,Object(i.a)({},e))}}),Object(y.jsx)(h.b,{path:"/authors",render:function(e){return Object(y.jsx)(ee,Object(i.a)({},e))}}),Object(y.jsx)(h.b,{path:"/rentals",component:xe}),Object(y.jsx)(h.b,{path:"/not-found",component:me}),Object(y.jsx)(h.a,{from:"/",exact:!0,to:"/books"}),Object(y.jsx)(h.a,{to:"/not-found"})]})})]})}}]),n}(r.Component),ze=We,Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(128),n(129);s.a.render(Object(y.jsx)(o.a,{children:Object(y.jsx)(ze,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ee?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Je(e)}))}}()},29:function(e){e.exports=JSON.parse('{"a":"http://booksapi.nzlouis.com/api"}')},73:function(e,t,n){var r={"./9780008499723.jpg":121,"./9780473470807.jpg":122,"./9781509840182.jpg":123,"./9781760785024.jpg":124,"./9781988547732.jpg":125,"./default.jpg":74,"./nzlouis.jpg":75};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=73},74:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/default.c31079c6.jpg"},75:function(e,t,n){"use strict";n.r(t),t.default="data:image/jpeg;base64,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"},88:function(e,t,n){},90:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.943a1b66.chunk.js.map